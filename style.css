/* ---------- Reset & variables ---------- */
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --charcoal:#222629;
  --iron:#393e46;
  --gold:#f6c244;
  --gold-dark:#d79d1e;
  --snow:#f7f9fa;
  --mint:#00c37a;
  --rose:#f87171;
  --radius:8px;
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
  color:var(--snow);
  background:var(--charcoal);
  line-height:1.4;
}

/* ---------- Layout général ---------- */
body{min-height:100vh;display:flex;flex-direction:column}

/* ---------- Écran principal (onglet Scanner) ---------- */
main{
  flex:1;
  display:flex;                       /* centre le bloc entier */
  flex-direction:column;
  justify-content:center;             /* vertical */
  align-items:center;                  /* horizontal */
  gap:1.4rem;
  max-width:640px;
  margin:0 auto;
  padding:2rem 1rem 6rem;             /* 6rem pour ne pas passer sous la nav */
}

/* Titre (logo optionnel en ::before) */
h1{
  font-size:1.7rem;font-weight:700;
  display:flex;align-items:center;gap:.5rem;
}


/* -------- bloc actions (input + bouton scan) -------- */
.actions{width:100%;display:flex;gap:.6rem}
#manual{
  flex:1;min-width:0;
  padding:.75rem;border:2px solid var(--iron);
  border-radius:var(--radius);
  background:var(--iron);color:var(--snow)
}
#manual::placeholder{color:#9aa1a9}
#scan{
  padding:.75rem 1.2rem;border:none;border-radius:var(--radius);
  background:var(--gold);color:var(--charcoal);font-weight:600;
  cursor:pointer;display:flex;align-items:center;gap:.4rem
}
#scan:hover{background:var(--gold-dark)}
#scan:focus-visible{outline:2px solid var(--snow)}

/* -------- résultat -------- */
#result{
  width:100%;text-align:center;
  padding:1.1rem;border-radius:var(--radius);
  background:var(--iron);transition:.25s
}
.success{background:rgba(0,195,122,.15);color:var(--mint)}
.error  {background:rgba(248,113,113,.15);color:var(--rose)}

/* -------- caméra -------- */
#camera-container{
  display:none;                    /* ouvert en JS au scan */
  display:flex;flex-direction:column;
  align-items:center;              /* centre HORIZONTAL les enfants */
  gap:.8rem;                       /* espace vidéo ↔ bouton */
  width:100%;
}
#camera-view{
  width:100%;aspect-ratio:4/3;
  border:2px dashed var(--gold-dark);border-radius:var(--radius)
}

/* ---------- Nav fixe ---------- */
#nav{
  position:fixed;bottom:0;left:0;right:0;
  display:flex;height:56px;
  background:var(--iron);backdrop-filter:blur(6px);z-index:20
}
#nav button{
  flex:1;border:none;background:none;color:var(--snow);
  font-size:1.05rem;display:flex;flex-direction:column;
  align-items:center;justify-content:center;cursor:pointer
}
#nav button.inactive{color:#9aa1a9}
#nav button.active{background:var(--gold);color:var(--charcoal)}

/* ---------- Liste “À réimprimer” (plein écran) ---------- */
#list{
  position:fixed;top:0;left:0;right:0;bottom:56px; /* au-dessus de la nav */
  overflow-y:auto;
  background:var(--charcoal);
  padding:1rem 1rem 6rem;
  display:grid;gap:1rem;          /* affiché en JS lorsqu’on ouvre l’onglet */
  max-width:640px;margin:0 auto;
}

/* Cartes de la liste */
.card{
  background:var(--iron);border-radius:var(--radius);
  padding:.9rem;display:flex;justify-content:space-between;align-items:center
}
.card small{display:block;color:#cbd0d6;font-size:.82rem}
.card button{
  border:none;background:var(--rose);color:var(--snow);
  padding:.35rem .6rem;border-radius:var(--radius);cursor:pointer
}

/* ---------- Panneau latéral “À propos” ---------- */
#about{
  position:fixed;top:0;right:0;bottom:0;
  width:80%;max-width:360px;padding:1.4rem 1.2rem;overflow-y:auto;
  background:var(--charcoal);box-shadow:-6px 0 12px rgba(0,0,0,.4);
  transform:translateX(100%);transition:transform .3s ease;z-index:30
}
#about.open{transform:translateX(0)}
#about h2{margin-bottom:1rem;color:var(--gold)}
#history strong{color:var(--gold)}
#update{
  margin-top:1.2rem;background:var(--gold);color:var(--charcoal);
  padding:.6rem 1rem;border:none;border-radius:var(--radius);cursor:pointer
}

/* ---------- Bouton info ---------- */
#info-btn{
  position:fixed;top:1rem;right:1rem;z-index:40;
  width:40px;height:40px;border-radius:50%;border:2px solid var(--gold);
  background:none;color:var(--gold);font-size:1.4rem;cursor:pointer
}
#info-btn:focus-visible{outline:2px solid var(--snow)}

/* ---------- Bannières (install / MAJ) ---------- */
.install-btn,.update-banner{
  position:fixed;bottom:70px;left:50%;transform:translateX(-50%);
  border:none;padding:.8rem 1.4rem;border-radius:var(--radius);
  background:var(--gold);color:var(--charcoal);font-weight:600;z-index:50
}

/* ---------- Responsive ---------- */
@media (max-width:480px){
  main{gap:1rem;padding:1.5rem 1rem 6rem}
  h1{font-size:1.4rem}
  #manual{font-size:.95rem}
}


/* ---------- Caméra responsive ---------- */
#camera-view{
  width:100%;
  max-height:60vh;           /* jamais plus haut que 60 % de l’écran */
  aspect-ratio:4/3;
  border:2px dashed var(--gold-dark);
  border-radius:var(--radius);
  overflow:hidden;           /* coupe les débordements */
}

/* Quagga injecte <video> & <canvas> → on les force à remplir proprement */
#camera-view video,
#camera-view canvas{
  width:100% !important;
  height:auto !important;
  object-fit:cover;
}

/* Le bouton interne “Arrêter” */
#stop-scan{                /* tu peux ajuster la couleur si besoin */
  margin:.6rem auto 0;
  padding:.6rem 1.4rem;
  border:none;border-radius:var(--radius);
  background:var(--rose);color:var(--snow);font-weight:600;
  display:none;            /* caché par défaut, affiché en JS */
}

